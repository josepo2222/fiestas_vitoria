<!doctype html>

<html>
	<head>
		<title>Page Title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="initial-scale=1.0">
		<link href="css/stilo.css" rel="stylesheet">
	</head>

	<body>
		<header>
			<div>
				<h1>Fiestas Virgen Blanca 2022</h1>
			</div>
			<div>
				<p>04-08-2022</p>
				<p>Faltan</p>
			</div>
			<div>
				Dias
				<input type="text" id="dias" name="dias" value="20" disabled size="2">
				&nbsp;
				Horas
				<input type="text" id="horas" name="horas" value="20" disabled size="2">
				&nbsp;
				Minutos
				<input type="text" id="minutos" name="minutos" value="20" disabled size="2">
				&nbsp;
				Segundos
				<input type="text" id="segundos" name="segundos" value="20" disabled size="2">
			</div>
			
		</header>
		<main>

			<div id="esp">
				Bienvenido
			</div>

			<div id="eus">
				Ongi Etorri
			</div>

			<div id="eng">
				Welcome
			</div>



			<script>

				const DATE_TARGET = new Date('08/04/2022 06:00 PM');

				const DIAS = document.getElementById("dias");
				const HORAS = document.getElementById("horas");
				const MINUTOS = document.getElementById("minutos");
				const SEGUNDOS = document.getElementById("segundos")

				const MILLISECONDS_OF_A_SECOND = 1000;
				const MILLISECONDS_OF_A_MINUTE = MILLISECONDS_OF_A_SECOND * 60;
				const MILLISECONDS_OF_A_HOUR = MILLISECONDS_OF_A_MINUTE * 60;
				const MILLISECONDS_OF_A_DAY = MILLISECONDS_OF_A_HOUR * 24




				function updateCountdown(){
					const NOW = new Date();
					const DURATION = DATE_TARGET - NOW;

					console.log(DURATION);
					const REMAINING_DAYS = Math.floor(DURATION / MILLISECONDS_OF_A_DAY);
					const REMAINING_HOURS = Math.floor((DURATION % MILLISECONDS_OF_A_DAY) / MILLISECONDS_OF_A_HOUR);
					const REMAINING_MINUTES = Math.floor((DURATION % MILLISECONDS_OF_A_HOUR) / MILLISECONDS_OF_A_MINUTE);
    				const REMAINING_SECONDS = Math.floor((DURATION % MILLISECONDS_OF_A_MINUTE) / MILLISECONDS_OF_A_SECOND);

					DIAS.value=REMAINING_DAYS;
					HORAS.value=REMAINING_HOURS;
					MINUTOS.value=REMAINING_MINUTES;
					SEGUNDOS.value=REMAINING_SECONDS;
				}

				
				setInterval(updateCountdown, 1000);
					

				//comprobar por minutos
				/* function setMyFunctionInterval()
				{
					var currentDateSeconds = new Date().getSeconds();

					if (currentDateSeconds == 0) {
						setInterval(updateCountdown, 60000);
					}
					else {
						setTimeout(function () {
						setMyFunctionInterval();
						}, (60 - currentDateSeconds) * 1000);
    				}

				updateCountdown();
				}

				setMyFunctionInterval(); */


			</script>
		</main>
	</body>
</html>